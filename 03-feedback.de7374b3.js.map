{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,yBACjCC,EAAYF,SAASC,cAAc,8BACnCE,EAAOH,SAASC,cAAc,sBAEhCG,EAAQ,GACRC,EAAU,GAERC,EAAiB,CACtBC,MAAAH,EACAI,QAAAH,GAMKI,EAAiB,WACtB,IAAMC,EAAkBC,aAAaC,QAAQ,uBAE7C,OADeF,EAAkBG,KAAKC,MAAMJ,GAAmBJ,GAI1DS,EAAyBN,IAE/BV,EAAQiB,aAAa,QAASD,EAAuBR,OACrDL,EAAUe,mBAAmB,YAAaF,EAAuBP,SAEjE,IAAMU,EAAsB,SAAUC,EAAOC,GAC5C,IAAMC,EAASZ,IAEF,YAATW,EACHC,EAAOb,QAAUW,EAEjBE,EAAOd,MAAQY,EAGhBR,aAAaW,QAAQ,sBAAuBT,KAAKU,UAAUF,KAsB5DtB,EAAQyB,iBAAiB,SAAS,EAAA3B,EAAA4B,WAnBR,SAAUC,GACnCtB,EAAQsB,EAAEC,OAAOR,MACjBD,EAAoBd,EAAO,WAiBkC,OAC9DF,EAAUsB,iBAAiB,SAAS,EAAA3B,EAAA4B,WAfJ,SAAUC,GACzCrB,EAAUqB,EAAEC,OAAOR,MACnBD,EAAoBb,EAAS,aAawC,OACtEF,EAAKqB,iBAAiB,UAXA,SAAUE,GAC/BA,EAAEE,iBACFC,QAAQC,IAAIjB,KAAKC,MAAMH,aAAaC,QAAQ,yBAC5CD,aAAaoB,QAEbhC,EAAQoB,MAAQ,GAChBjB,EAAUiB,MAAQ,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst emailEl = document.querySelector('input, [name=\"email\"]');\nconst messageEl = document.querySelector('textarea, [name=\"message\"]');\nconst form = document.querySelector('form.feedback-form');\n\nlet email = '';\nlet message = '';\n\nconst feedbackObject = {\n\temail,\n\tmessage,\n};\n\n// localStorage.clear();\n// form.reset();\n\nconst getStorageData = function () {\n\tconst retrievedObject = localStorage.getItem('feedback-form-state');\n\tconst result = retrievedObject ? JSON.parse(retrievedObject) : feedbackObject;\n\treturn result;\n};\n\nconst objectedFeedbackObject = getStorageData();\n\nemailEl.setAttribute('value', objectedFeedbackObject.email);\nmessageEl.insertAdjacentText('beforeend', objectedFeedbackObject.message);\n\nconst storeFeedbackObject = function (value, type) {\n\tconst result = getStorageData();\n\n\tif (type === 'message') {\n\t\tresult.message = value;\n\t} else {\n\t\tresult.email = value;\n\t}\n\n\tlocalStorage.setItem('feedback-form-state', JSON.stringify(result));\n};\n\nconst inputEmailHandler = function (e) {\n\temail = e.target.value;\n\tstoreFeedbackObject(email, 'email');\n};\n\nconst textareaMessagelHandler = function (e) {\n\tmessage = e.target.value;\n\tstoreFeedbackObject(message, 'message');\n};\n\nconst submitHandler = function (e) {\n\te.preventDefault();\n\tconsole.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n\tlocalStorage.clear();\n\t// form.reset();\n\temailEl.value = '';\n\tmessageEl.value = '';\n};\n// console.log(throttle)\nemailEl.addEventListener('input', throttle(inputEmailHandler, 1500));\nmessageEl.addEventListener('input', throttle(textareaMessagelHandler, 1500));\nform.addEventListener('submit', submitHandler);\n\n// throttle(storeFeedbackObject, 500);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$emailEl","document","querySelector","$b00c40859be242c5$var$messageEl","$b00c40859be242c5$var$form","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$feedbackObject","email","message","$b00c40859be242c5$var$getStorageData","retrievedObject","localStorage","getItem","JSON","parse","$b00c40859be242c5$var$objectedFeedbackObject","setAttribute","insertAdjacentText","$b00c40859be242c5$var$storeFeedbackObject","value","type","result","setItem","stringify","addEventListener","throttle","e","target","preventDefault","console","log","clear"],"version":3,"file":"03-feedback.de7374b3.js.map"}