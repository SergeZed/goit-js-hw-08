{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,yBACjCC,EAAYF,SAASC,cAAc,8BACnCE,EAAOH,SAASC,cAAc,sBAEpC,IAAIG,EAAQ,GACRC,EAAU,GAEd,MAAMC,EAAiB,C,MACtBF,E,QACAC,GAGDE,aAAaC,QACbL,EAAKM,QAEL,MAAMC,EAAiB,WACtB,MAAMC,EAAkBJ,aAAaK,QAAQ,uBAE7C,OADeD,EAAkBE,KAAKC,MAAMH,GAAmBL,GAI1DS,EAAyBL,IAE/BX,EAAQiB,aAAa,QAASD,EAAuBE,OACrDf,EAAUgB,mBAAmB,YAAaH,EAAuBI,SAEjE,MAAMC,EAAsB,SAAUC,EAAOC,GAC5C,MAAMC,EAASb,IAEF,YAATY,EACHC,EAAOJ,QAAUE,EAEjBE,EAAON,MAAQI,EAGhBd,aAAaiB,QAAQ,sBAAuBX,KAAKY,UAAUF,KAoB5DxB,EAAQ2B,iBAAiB,SAAS,EAAA7B,EAAA8B,WAjBR,SAAUC,GACnCxB,EAAQwB,EAAEC,OAAOR,MACjBD,EAAoBhB,EAAO,WAekC,OAC9DF,EAAUwB,iBAAiB,SAAS,EAAA7B,EAAA8B,WAbJ,SAAUC,GACzCvB,EAAUuB,EAAEC,OAAOR,MACnBD,EAAoBf,EAAS,aAWwC,OACtEF,EAAKuB,iBAAiB,UATA,SAAUE,GAC/BA,EAAEE,iBACFC,QAAQC,IAAInB,KAAKC,MAAMP,aAAaK,QAAQ,yBAC5CL,aAAaC,QACbL,EAAKM","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst emailEl = document.querySelector('input, [name=\"email\"]');\nconst messageEl = document.querySelector('textarea, [name=\"message\"]');\nconst form = document.querySelector('form.feedback-form');\n\nlet email = '';\nlet message = '';\n\nconst feedbackObject = {\n\temail,\n\tmessage,\n};\n\nlocalStorage.clear();\nform.reset();\n\nconst getStorageData = function () {\n\tconst retrievedObject = localStorage.getItem('feedback-form-state');\n\tconst result = retrievedObject ? JSON.parse(retrievedObject) : feedbackObject;\n\treturn result;\n};\n\nconst objectedFeedbackObject = getStorageData();\n\nemailEl.setAttribute('value', objectedFeedbackObject.email);\nmessageEl.insertAdjacentText('beforeend', objectedFeedbackObject.message);\n\nconst storeFeedbackObject = function (value, type) {\n\tconst result = getStorageData();\n\n\tif (type === 'message') {\n\t\tresult.message = value;\n\t} else {\n\t\tresult.email = value;\n\t}\n\n\tlocalStorage.setItem('feedback-form-state', JSON.stringify(result));\n};\n\nconst inputEmailHandler = function (e) {\n\temail = e.target.value;\n\tstoreFeedbackObject(email, 'email');\n};\n\nconst textareaMessagelHandler = function (e) {\n\tmessage = e.target.value;\n\tstoreFeedbackObject(message, 'message');\n};\n\nconst submitHandler = function (e) {\n\te.preventDefault();\n\tconsole.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n\tlocalStorage.clear();\n\tform.reset();\n};\n// console.log(throttle)\nemailEl.addEventListener('input', throttle(inputEmailHandler, 1500));\nmessageEl.addEventListener('input', throttle(textareaMessagelHandler, 1500));\nform.addEventListener('submit', submitHandler);\n\n// throttle(storeFeedbackObject, 500);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$emailEl","document","querySelector","$945622fd0f572e60$var$messageEl","$945622fd0f572e60$var$form","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","$945622fd0f572e60$var$feedbackObject","localStorage","clear","reset","$945622fd0f572e60$var$getStorageData","retrievedObject","getItem","JSON","parse","$945622fd0f572e60$var$objectedFeedbackObject","setAttribute","email","insertAdjacentText","message","$945622fd0f572e60$var$storeFeedbackObject","value","type","result","setItem","stringify","addEventListener","throttle","e","target","preventDefault","console","log"],"version":3,"file":"03-feedback.61a6f453.js.map"}