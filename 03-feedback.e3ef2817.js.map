{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,yBACjCC,EAAYF,SAASC,cAAc,8BACnCE,EAAOH,SAASC,cAAc,sBAEhCG,EAAQ,GACRC,EAAU,GAERC,EAAiB,CACtBC,MAAAH,EACAI,QAAAH,GAGDI,aAAaC,QACbP,EAAKQ,QAEL,IAAMC,EAAiB,WACtB,IAAMC,EAAkBJ,aAAaK,QAAQ,uBAE7C,OADeD,EAAkBE,KAAKC,MAAMH,GAAmBP,GAI1DW,EAAyBL,IAE/Bb,EAAQmB,aAAa,QAASD,EAAuBV,OACrDL,EAAUiB,mBAAmB,YAAaF,EAAuBT,SAEjE,IAAMY,EAAsB,SAAUC,EAAOC,GAC5C,IAAMC,EAASX,IAEF,YAATU,EACHC,EAAOf,QAAUa,EAEjBE,EAAOhB,MAAQc,EAGhBZ,aAAae,QAAQ,sBAAuBT,KAAKU,UAAUF,KAoB5DxB,EAAQ2B,iBAAiB,SAAS,EAAA7B,EAAA8B,WAjBR,SAAUC,GACnCxB,EAAQwB,EAAEC,OAAOR,MACjBD,EAAoBhB,EAAO,WAekC,OAC9DF,EAAUwB,iBAAiB,SAAS,EAAA7B,EAAA8B,WAbJ,SAAUC,GACzCvB,EAAUuB,EAAEC,OAAOR,MACnBD,EAAoBf,EAAS,aAWwC,OACtEF,EAAKuB,iBAAiB,UATA,SAAUE,GAC/BA,EAAEE,iBACFC,QAAQC,IAAIjB,KAAKC,MAAMP,aAAaK,QAAQ,yBAC5CL,aAAaC,QACbP,EAAKQ,W","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst emailEl = document.querySelector('input, [name=\"email\"]');\nconst messageEl = document.querySelector('textarea, [name=\"message\"]');\nconst form = document.querySelector('form.feedback-form');\n\nlet email = '';\nlet message = '';\n\nconst feedbackObject = {\n\temail,\n\tmessage,\n};\n\nlocalStorage.clear();\nform.reset();\n\nconst getStorageData = function () {\n\tconst retrievedObject = localStorage.getItem('feedback-form-state');\n\tconst result = retrievedObject ? JSON.parse(retrievedObject) : feedbackObject;\n\treturn result;\n};\n\nconst objectedFeedbackObject = getStorageData();\n\nemailEl.setAttribute('value', objectedFeedbackObject.email);\nmessageEl.insertAdjacentText('beforeend', objectedFeedbackObject.message);\n\nconst storeFeedbackObject = function (value, type) {\n\tconst result = getStorageData();\n\n\tif (type === 'message') {\n\t\tresult.message = value;\n\t} else {\n\t\tresult.email = value;\n\t}\n\n\tlocalStorage.setItem('feedback-form-state', JSON.stringify(result));\n};\n\nconst inputEmailHandler = function (e) {\n\temail = e.target.value;\n\tstoreFeedbackObject(email, 'email');\n};\n\nconst textareaMessagelHandler = function (e) {\n\tmessage = e.target.value;\n\tstoreFeedbackObject(message, 'message');\n};\n\nconst submitHandler = function (e) {\n\te.preventDefault();\n\tconsole.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n\tlocalStorage.clear();\n\tform.reset();\n};\n// console.log(throttle)\nemailEl.addEventListener('input', throttle(inputEmailHandler, 1500));\nmessageEl.addEventListener('input', throttle(textareaMessagelHandler, 1500));\nform.addEventListener('submit', submitHandler);\n\n// throttle(storeFeedbackObject, 500);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$emailEl","document","querySelector","$b00c40859be242c5$var$messageEl","$b00c40859be242c5$var$form","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$feedbackObject","email","message","localStorage","clear","reset","$b00c40859be242c5$var$getStorageData","retrievedObject","getItem","JSON","parse","$b00c40859be242c5$var$objectedFeedbackObject","setAttribute","insertAdjacentText","$b00c40859be242c5$var$storeFeedbackObject","value","type","result","setItem","stringify","addEventListener","throttle","e","target","preventDefault","console","log"],"version":3,"file":"03-feedback.e3ef2817.js.map"}